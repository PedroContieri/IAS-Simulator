<!DOCTYPE html>
<html>
<head>
	<title>Test Module Utility for IAS</title>
	<script src="ias.js"></script>
	
	<script>
		window.onload = function () {
			var testObjectExample = document.getElementById("txtTestObject").value;
			var txtM = document.getElementById("txtMemMap");
			var txtTO = document.getElementById("txtTestObject");
			var txtOut = document.getElementById("txtOutputReport");
			var txtTime = document.getElementById("txtTimeout");

			document.getElementById("btnResetExameple").onclick = function () {
				txtTO.value = testObjectExample; // try this for lab 02
			};

			document.getElementById("btnTest").onclick = function () {
				txtOut.value = IAS.testCases(txtM.value, txtTO.value, isNaN(txtTime.value) ? undefined : parseInt(txtTime.value));
				// we specify a per test execution timeout (seconds) if the user enters a number in the corresponding field
			};
		};
	</script>

	<style>
		textarea {
			overflow: auto;
			white-space: nowrap;
		}
		td {
			text-align: center;
		}
	</style>

</head>

<body>

 <table style="width:100%; height:100%;">

  <tr style="height:75%">
    <td>
    	Insert memory map here: <!-- just a default examples -->
    	<textarea id="txtMemMap" cols="70" rows="30">
000 01 100 0D 400

100 00 000 00 00A
    	</textarea>
    	<br>
    	Insert test object here: <!-- just a default examples -->
    	<textarea id="txtTestObject" cols="70" rows="30">
[
	{
		"input": ["105  00 000 00 3e8"],
		"output": [{"where": "reg", "position": "ac", "value": 31}]
	},
	{
		"input": ["105  00 40506070"],
		"output": [{"where": "reg", "position": "ac", "value": 32848}]
	},
	{
		"input": ["105  00 000 00 010"],
		"output": [{"where": "reg", "position": "ac", "value": 16}]
	},
	{
		"input": ["105  00 00 1fA098"],
		"output": [{"where": "reg", "position": "ac", "value": 1440}]
	},
	{
		"input": ["105  00 000 00 01b"],
		"output": [{"where": "ram", "position": "0x3f8", "value": 5}]
	}
]
    	</textarea>
    </td>
    <td rowspan="2">
    	<input type="button" id="btnTest" value="Test &gt;&gt;">
    	<input type="button" id="btnResetExameple" value="Reset Example Test">
    	<br>Per Test Execution Timeout (seconds):
    	<input type="text" id="txtTimeout" value="10">
    </td>
    <td rowspan="2">
	    Program Execution Report:
	    <textarea id="txtOutputReport" cols="70" rows="70"></textarea>
    </td>
  </tr>

</table> 


</body>
</html>